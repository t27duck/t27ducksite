<div data-controller="preview" data-preview-url-value="<%= preview_admin_pages_path %>">
  <%= form_for [:admin, page] do |f| %>
    <% if page.errors.any? %>
      <aside>
        <p><strong><%= pluralize(page.errors.count, "error") %> prohibited this page from being saved:</strong></p>
        <ul>
        <% page.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </aside>
    <% end %>

    <%= f.label :title, "Title", class: "form-label" %>
    <%= f.text_field :title, class: "form-control", required: true %>

    <%= f.label :content, "Content", class: "form-label" %>
    <%= f.text_area :content, class: "form-control", rows: 15, required: true, data: { preview_target: "content" }  %>

    <%= f.submit class: "button" %>
    <%= link_to "Cancel", admin_pages_path, class: "btn btn-warning" %>
    <a href="#" data-action="click->preview#show">Preview</a>
  <% end %>

  <hr />
  <div data-preview-target="output"></div>
</div>
